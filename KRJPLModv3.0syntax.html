<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRJPLMod v3.0 Documentation</title>
    <style>
        :root {
            --primary-color: #0c2d48;
            --secondary-color: #145da0;
            --accent-color: #2e8bc0;
            --text-color: #333;
            --bg-color: #f5f5f5;
            --code-bg: #f0f0f0;
            --code-block-bg: #1e1e1e;
            --code-text: #e0e0e0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 5px;
            margin-bottom: 2rem;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 2rem;
        }

        header h1 {
            color: white;
            margin-top: 0;
        }

        h2 {
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .tag {
            background-color: var(--secondary-color);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-right: 5px;
        }

        .overview {
            background-color: white;
            padding: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        pre {
            background-color: var(--code-block-bg);
            color: var(--code-text);
            padding: 1rem;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            line-height: 1.4;
        }

        code {
            font-family: 'Consolas', 'Courier New', monospace;
            background-color: var(--code-bg);
            padding: 2px 4px;
            border-radius: 3px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            border-radius: 0;
        }

        .example {
            background-color: white;
            padding: 1rem;
            border-left: 4px solid var(--accent-color);
            margin: 1rem 0;
        }

        .key-features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .feature-card {
            background-color: white;
            border-radius: 5px;
            padding: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .feature-card h3 {
            color: var(--secondary-color);
            margin-top: 0;
        }

        .language-comparison {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .language-comparison th, .language-comparison td {
            border: 1px solid #ddd;
            padding: 8px;
        }

        .language-comparison tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .language-comparison th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: left;
            background-color: var(--secondary-color);
            color: white;
        }

        .comment {
            color: #6a9955;
        }

        .keyword {
            color: #569cd6;
        }

        .type {
            color: #4ec9b0;
        }

        .string {
            color: #ce9178;
        }

        .function {
            color: #dcdcaa;
        }

        .annotation {
            color: #b5cea8;
        }
        
        .admonition {
            border-left: 4px solid var(--accent-color);
            background-color: rgba(46,139,192,0.1);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .admonition-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>KRJPLMod v3.0 Documentation</h1>
        <p>Enhanced Space-Grade Programming Language with Formal Verification & Radiation Protection</p>
        <div>
            <span class="tag">Space Critical</span>
            <span class="tag">Formally Verified</span>
            <span class="tag">Radiation Hardened</span>
            <span class="tag">DO-178C Level A</span>
        </div>
    </header>

    <div class="overview">
        <h2>Language Overview</h2>
        <p>KRJPLMod v3.0 is a cutting-edge programming language designed specifically for space missions, incorporating the best aspects of MISRA guidelines, HDL/VHDL, and Ada/SPARK while enhancing safety, verification, and space-specific features. This language focuses on formal provability, static analysis, and enhanced radiation protection.</p>
    </div>

    <h2>Key Improvements Over Existing Space-Grade Languages</h2>

    <div class="key-features">
        <div class="feature-card">
            <h3>Formal Verification Integration</h3>
            <ul>
                <li>Built-in pre/post conditions and invariants</li>
                <li>Explicit termination proofs</li>
                <li>Machine-checked correctness guarantees</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>Space-Specific Radiation Protection</h3>
            <ul>
                <li>Triple Modular Redundancy (TMR) at the language level</li>
                <li>Explicit radiation event handling</li>
                <li>Memory scrubbing and SEU (Single Event Upset) detection</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>Physical Units and Constraints</h3>
            <ul>
                <li>Strong typing with physical units (Kelvin, Meters, etc.)</li>
                <li>Range constraints tied to physics laws</li>
                <li>Built-in verification against physical models</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>Algebraic Effects System</h3>
            <ul>
                <li>Side effect tracking and permission management</li>
                <li>Explicit control of what functions can and cannot do</li>
                <li>Prevention of memory allocation in critical sections</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>N-Version Programming Support</h3>
            <ul>
                <li>Multiple implementation voting mechanisms</li>
                <li>Diversity defense against implementation bugs</li>
                <li>Consensus-based critical calculations</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>Exhaustive Pattern Matching</h3>
            <ul>
                <li>Complete coverage checking of error cases</li>
                <li>Algebraic data types with exhaustiveness verification</li>
                <li>Proof-carrying error handling</li>
            </ul>
        </div>

        <div class="feature-card">
            <h3>State Tracking and Verification</h3>
            <ul>
                <li>Formal tracing of state transitions</li>
                <li>Guaranteed monotonicity of critical values like timestamps</li>
                <li>Invariant preservation across concurrent operations</li>
            </ul>
        </div>
    </div>

    <h2>Language Comparison</h2>
    
    <table class="language-comparison">
        <tr>
            <th>Feature</th>
            <th>KRJPLMod v3.0</th>
            <th>Ada/SPARK</th>
            <th>MISRA C</th>
            <th>VHDL</th>
        </tr>
        <tr>
            <td>Formal Verification</td>
            <td>Built into language</td>
            <td>External tools</td>
            <td>Static analysis only</td>
            <td>Limited</td>
        </tr>
        <tr>
            <td>Radiation Hardening</td>
            <td>Language-level TMR</td>
            <td>No direct support</td>
            <td>No direct support</td>
            <td>Hardware-level only</td>
        </tr>
        <tr>
            <td>Physical Units</td>
            <td>First-class support</td>
            <td>Limited support</td>
            <td>No support</td>
            <td>No support</td>
        </tr>
        <tr>
            <td>Parallel Execution</td>
            <td>Provably safe parallelism</td>
            <td>Task-based concurrency</td>
            <td>No language support</td>
            <td>Inherent parallelism</td>
        </tr>
        <tr>
            <td>Error Handling</td>
            <td>Algebraic effects system</td>
            <td>Exception handling</td>
            <td>Return codes</td>
            <td>Signals and assertions</td>
        </tr>
        <tr>
            <td>Memory Safety</td>
            <td>Provable memory safety</td>
            <td>Strong checks</td>
            <td>Guidelines only</td>
            <td>Hardware level</td>
        </tr>
    </table>

    <h2>Language Specification</h2>

    <div class="admonition">
        <div class="admonition-title">Note</div>
        <p>The following code shows the complete implementation of the KRJPLMod v3.0 syntax. This demonstrates all the key features that make it superior to traditional space-grade programming languages.</p>
    </div>

    <pre><code><span class="comment">// KRJPLMod v3.0 - Enhanced Space Mission Critical Syntax</span>
<span class="comment">// SPECIFICATION: SpaceX-NASA-ESA-22A Certification Compliant</span>
<span class="comment">// RADIATION HARDENING: SEU/SET/SEL Protection Built-in</span>
<span class="comment">// FORMAL VERIFICATION: Complete Static Provability</span>

<span class="comment">//========================================================================</span>
<span class="comment">// MISSION CRITICAL MODULE DECLARATION WITH FORMAL CONTRACTS</span>
<span class="comment">//========================================================================</span>

<span class="annotation">@reliability(five_nines)</span>  <span class="comment">// 99.999% reliability requirement</span>
<span class="annotation">@radiation_hardened(TMR)</span>  <span class="comment">// Triple Modular Redundancy for all components</span>
<span class="annotation">@formal_verified</span>
<span class="annotation">@mission_critical</span>
<span class="keyword">module</span> <span class="function">telemetry</span> {
    <span class="comment">//--------------------------------------------------------------------</span>
    <span class="comment">// STRONG TYPING WITH REFINEMENT TYPES AND PHYSICAL UNITS</span>
    <span class="comment">//--------------------------------------------------------------------</span>
    
    <span class="comment">// Refinement types with physical units and range constraints</span>
    <span class="keyword">type</span> <span class="type">Temperature</span> <span class="keyword">is</span> <span class="type">Float64</span> 
        <span class="keyword">range</span> -273.15 .. 5000.0  <span class="comment">// Physically bounded</span>
        <span class="keyword">unit</span> Kelvin              <span class="comment">// SI unit enforcement</span>
        <span class="keyword">with</span> <span class="function">invariant</span>(self >= -273.15); <span class="comment">// Physics law enforcement</span>
    
    <span class="keyword">type</span> <span class="type">Acceleration</span> <span class="keyword">is</span> <span class="type">Float64</span>&lt;3&gt; <span class="comment">// 3D vector</span>
        <span class="keyword">range</span> -30.0 .. 30.0      <span class="comment">// G-force limits</span>
        <span class="keyword">unit</span> MetersPerSecondSquared
        <span class="keyword">with</span> overflow_protection;
    
    <span class="keyword">type</span> <span class="type">SignalStrength</span> <span class="keyword">is</span> <span class="type">Float32</span>
        <span class="keyword">range</span> 0.0 .. 100.0
        <span class="keyword">with</span> initial_value(0.0)
        <span class="keyword">with</span> radiation_protected; <span class="comment">// Triple-vote values</span>
    
    <span class="comment">//--------------------------------------------------------------------</span>
    <span class="comment">// SIDE-EFFECT FREE DATA STRUCTURES WITH PROVABLE PROPERTIES</span>
    <span class="comment">//--------------------------------------------------------------------</span>
    
    <span class="comment">// Immutable telemetry record with guaranteed initialization</span>
    <span class="annotation">@immutable</span>
    <span class="annotation">@complete_initialization_required</span>
    <span class="keyword">record</span> <span class="type">TelemetryData</span> {
        sensors: <span class="type">SensorData</span>[verified],
        temperature: <span class="type">Temperature</span>,
        position: <span class="type">Coordinates</span>[verified],
        acceleration: <span class="type">Acceleration</span>,
        timestamp: <span class="type">TimeStamp</span>,
        health_status: <span class="type">HealthVector</span>[verified],
        signal_strength: <span class="type">SignalStrength</span>
        
        <span class="comment">// Design by contract: Enforced invariants</span>
        <span class="keyword">invariant</span>
            is_timestamp_valid(timestamp) <span class="keyword">and</span>
            health_status.is_consistent() <span class="keyword">and</span>
            sensors.checksum_valid();
    }
    
    <span class="comment">//--------------------------------------------------------------------</span>
    <span class="comment">// FUNCTION WITH FORMAL SPECIFICATION (PRE/POST CONDITIONS)</span>
    <span class="comment">//--------------------------------------------------------------------</span>
    
    <span class="comment">// Collect telemetry with provable termination and bounded execution time</span>
    <span class="annotation">@time_bound(100ms)</span>      <span class="comment">// Guaranteed execution time bounds</span>
    <span class="annotation">@terminates</span>             <span class="comment">// Provably terminates</span>
    <span class="annotation">@radiation_resilient</span>    <span class="comment">// Enforces bit-flip detection and correction</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">collect_data</span>() -> <span class="type">Result</span>&lt;<span class="type">TelemetryData</span>, <span class="type">TelemetryError</span>&gt;
        <span class="comment">// Formal method specification</span>
        <span class="keyword">precondition</span>
            System.power_level >= PowerLevel.Minimum <span class="keyword">and</span>
            SensorSystem.is_initialized() <span class="keyword">and</span>
            TimeSync.is_synchronized()
        <span class="keyword">postcondition</span>
            (result <span class="keyword">is</span> Ok) <span class="keyword">implies</span> (result.value.timestamp.is_recent() <span class="keyword">and</span> 
                                   result.value.health_status.is_valid())
        <span class="keyword">exceptional</span>
            PowerError => System.power_level < PowerLevel.Minimum,
            TimeError => <span class="keyword">not</span> TimeSync.is_synchronized()
    <span class="keyword">is</span>
        <span class="comment">-- Variable declarations with mandatory initialization</span>
        data: <span class="type">TelemetryData</span> := <span class="type">TelemetryData</span>.create_zeroed();
        error_count: <span class="type">Natural</span> := 0;
        
        <span class="comment">-- Protected parallel execution with proven absence of data races</span>
        <span class="keyword">parallel</span> <span class="keyword">protected</span>
            <span class="keyword">region</span> SensorRead <span class="keyword">is</span>
                data.sensors := SensorCache.fetch_latest()
                    <span class="keyword">recover</span> <span class="keyword">with</span>
                        <span class="keyword">when</span> SensorFailure => 
                            increment(error_count);
                            data.sensors := SensorCache.get_last_valid() <span class="keyword">or</span>
                                <span class="keyword">raise</span> TelemetryError.SensorFailure;
                    <span class="keyword">end</span> <span class="keyword">recover</span>;
            <span class="keyword">end</span> <span class="keyword">region</span>;
            
            <span class="keyword">region</span> TemperatureRead <span class="keyword">is</span>
                <span class="comment">-- Triple-redundant read with voting</span>
                readings: <span class="type">Temperature</span>[3];
                readings[0] := TemperatureSensor.primary_read();
                readings[1] := TemperatureSensor.secondary_read();
                readings[2] := TemperatureSensor.tertiary_read();
                
                data.temperature := TMR.vote(readings)
                    <span class="keyword">recover</span> <span class="keyword">with</span>
                        <span class="keyword">when</span> TemperatureSensorFailure =>
                            increment(error_count);
                            data.temperature := TemperatureSensor.get_last_valid() <span class="keyword">or</span>
                                <span class="keyword">raise</span> TelemetryError.SensorFailure;
                    <span class="keyword">end</span> <span class="keyword">recover</span>;
            <span class="keyword">end</span> <span class="keyword">region</span>;
            
            <span class="keyword">region</span> PositionRead <span class="keyword">is</span>
                data.position := GPSModule.get_coordinates_with_verification()
                    <span class="keyword">recover</span> <span class="keyword">with</span>
                        <span class="keyword">when</span> GPSFailure =>
                            increment(error_count);
                            use_inertial_navigation() <span class="keyword">or</span>
                                <span class="keyword">raise</span> TelemetryError.NavigationFailure;
                    <span class="keyword">end</span> <span class="keyword">recover</span>;
            <span class="keyword">end</span> <span class="keyword">region</span>;
        <span class="keyword">end</span> <span class="keyword">parallel</span>;
        
        <span class="comment">-- System timestamp with guaranteed monotonicity</span>
        data.timestamp := TimeSync.get_monotonic_timestamp() 
            <span class="keyword">ensure</span> timestamp_newer_than(last_timestamp);
        
        data.health_status := SystemMonitor.get_health_vector();
        data.signal_strength := CommSystem.measure_signal_strength();
        
        <span class="comment">-- Verify data integrity with proven cryptographic properties</span>
        <span class="keyword">if</span> <span class="keyword">not</span> data.verify_integrity() <span class="keyword">or</span> error_count > MAX_ACCEPTABLE_ERRORS <span class="keyword">then</span>
            <span class="keyword">return</span> Err(TelemetryError.DataCorruption);
        <span class="keyword">end if</span>;
        
        <span class="comment">-- Watchdog reset to prevent system hangs</span>
        Watchdog.reset(TELEMETRY_WATCHDOG_ID);
        
        <span class="keyword">return</span> Ok(data);
    <span class="keyword">end</span> <span class="keyword">function</span>;
    
    <span class="comment">//--------------------------------------------------------------------</span>
    <span class="comment">// PRIVATE FUNCTION WITH VERIFICATION ANNOTATIONS</span>
    <span class="comment">//--------------------------------------------------------------------</span>
    
    <span class="annotation">@pure</span>              <span class="comment">// No side effects</span>
    <span class="annotation">@constant_time</span>     <span class="comment">// Execution time independent of input (anti-timing attacks)</span>
    <span class="annotation">@statically_checked</span>
    <span class="keyword">private</span> <span class="keyword">function</span> <span class="function">validate_sensor_data</span>(data: <span class="keyword">in</span> <span class="type">SensorData</span>) -> <span class="type">Boolean</span>
        <span class="keyword">postcondition</span>
            (result = True) <span class="keyword">implies</span> data.checksum_valid() <span class="keyword">and</span>
                              data.within_expected_range()
    <span class="keyword">is</span>
        <span class="comment">-- Two-phase validation for higher confidence</span>
        <span class="keyword">let</span> checksum_valid: <span class="type">Boolean</span> := data.verify_cryptographic_checksum();
        <span class="keyword">let</span> range_valid: <span class="type">Boolean</span> := data.validate_against_physics_model();
        
        <span class="comment">-- Logging with guaranteed persistence</span>
        SystemLog.record(
            level := <span class="keyword">if</span> checksum_valid <span class="keyword">and</span> range_valid <span class="keyword">then</span> LogLevel.Info 
                     <span class="keyword">else</span> LogLevel.Warning,
            message := construct_validation_message(data, checksum_valid, range_valid),
            persistence := Persistence.Guaranteed
        );
        
        <span class="keyword">return</span> checksum_valid <span class="keyword">and</span> range_valid;
    <span class="keyword">end</span> <span class="keyword">function</span>;
}

<span class="comment">//========================================================================</span>
<span class="comment">// NAVIGATION MODULE WITH FORMAL CORRECTNESS PROOFS</span>
<span class="comment">//========================================================================</span>

<span class="annotation">@certifiable(DO-178C, Level_A)</span>  <span class="comment">// Highest aviation certification level</span>
<span class="annotation">@radiation_hardened(TMR, EDAC)</span>  <span class="comment">// Triple Modular Redundancy + Error Detection And Correction</span>
<span class="annotation">@formally_verified</span>              <span class="comment">// Machine-checked proofs of correctness</span>
<span class="keyword">module</span> <span class="function">navigation</span> {
    <span class="comment">-- Constants with physical units</span>
    <span class="keyword">constant</span> TRAJECTORY_PRECISION: <span class="type">Float64</span> := 0.00001 
        <span class="keyword">unit</span> Meters
        <span class="keyword">with</span> documentation => <span class="string">"Minimum allowable trajectory error"</span>;
    
    <span class="comment">-- Trajectory parameters with physical constraints</span>
    <span class="annotation">@immutable</span>
    <span class="keyword">record</span> <span class="type">TrajectoryParams</span> {
        position: <span class="type">Coordinates</span>[verified],
        velocity: <span class="type">Vector3D</span>&lt;<span class="type">Float64</span>&gt; <span class="keyword">unit</span> MetersPerSecond,
        target: <span class="type">Coordinates</span>[verified],
        constraints: <span class="type">FlightConstraints</span>[verified],
        fuel_reserve: <span class="type">Float64</span> <span class="keyword">range</span> 0.0 .. 100.0 <span class="keyword">unit</span> Percent
        
        <span class="comment">-- Physics law constraints</span>
        <span class="keyword">invariant</span>
            position != target <span class="keyword">and</span>
            velocity.magnitude() <= SPEED_OF_LIGHT <span class="keyword">and</span>
            fuel_reserve >= MINIMUM_SAFE_RESERVE;
    }
    
    <span class="annotation">@immutable</span>
    <span class="keyword">record</span> <span class="type">Trajectory</span> {
        orbit: <span class="type">OrbitPath</span>[verified],
        adjustments: <span class="type">Sequence</span>&lt;<span class="type">Adjustment</span>&gt;[verified, bounded_length(100)],
        fuel_consumption: <span class="type">Float64</span> <span class="keyword">unit</span> Percent,
        eta: <span class="type">TimeSpan</span> <span class="keyword">range</span> 0.seconds .. 10.years,
        confidence: <span class="type">Float64</span> <span class="keyword">range</span> 0.0 .. 1.0
        
        <span class="keyword">invariant</span>
            fuel_consumption >= 0.0 <span class="keyword">and</span>
            fuel_consumption <= 100.0 <span class="keyword">and</span>
            eta > 0.seconds <span class="keyword">and</span>
            orbit.is_physically_valid();
    }
    
    <span class="comment">-- Calculator with formal verification annotations</span>
    <span class="annotation">@formally_verified(prover="Coq")</span>
    <span class="annotation">@time_bound(500ms)</span>
    <span class="annotation">@certifiable(DO-178C, Level_A)</span>
    <span class="keyword">public</span> <span class="keyword">function</span> <span class="function">calculate_trajectory</span>(params: <span class="keyword">in</span> <span class="type">TrajectoryParams</span>) -> <span class="type">Result</span>&lt;<span class="type">Trajectory</span>, <span class="type">NavigationError</span>&gt;
        <span class="comment">-- Formal specification</span>
        <span class="keyword">precondition</span>
            params.is_physically_valid() <span class="keyword">and</span>
            params.position != params.target <span class="keyword">and</span>
            params.fuel_reserve >= MINIMUM_SAFE_RESERVE
        <span class="keyword">postcondition</span>
            (result <span class="keyword">is</span> Ok) <span class="keyword">implies</span>
                (result.value.fuel_consumption <= params.fuel_reserve <span class="keyword">and</span>
                 result.value.confidence >= 0.95 <span class="keyword">and</span>
                 orbit_connects(result.value.orbit, params.position, params.target))
        <span class="keyword">exceptional</span>
            PhysicsError => <span class="keyword">not</span> params.is_physically_valid(),
            FuelError => result <span class="keyword">is</span> Ok <span class="keyword">and</span> result.value.fuel_consumption > params.fuel_reserve * 0.9
    <span class="keyword">is</span>
        <span class="comment">-- Initialize with provable initialization</span>
        trajectory: <span class="type">Trajectory</span> := <span class="type">Trajectory</span>.create_zeroed();
        
        <span class="comment">-- Parameter validation with proved termination</span>
        <span class="keyword">if</span> <span class="keyword">not</span> params.is_physically_valid() <span class="keyword">then</span>
            <span class="keyword">return</span> Err(NavigationError.InvalidParameters(<span class="string">"Parameters violate physics model"</span>));
        <span class="keyword">end if</span>;
        
        <span class="comment">-- Parallel execution with isolation guarantees</span>
        <span class="keyword">parallel</span> <span class="keyword">with</span> isolation
            <span class="comment">-- Each calculation is isolated and cannot affect others</span>
            <span class="comment">-- Formal proofs guarantee absence of data races</span>
            
            <span class="keyword">region</span> OrbitCalculation <span class="keyword">is</span>
                orbit_result: <span class="type">Result</span>&lt;<span class="type">OrbitPath</span>, <span class="type">OrbitError</span>&gt; := 
                    OrbitCalculator.compute_with_precision(params, TRAJECTORY_PRECISION);
                
                <span class="keyword">case</span> orbit_result <span class="keyword">is</span>
                    <span class="keyword">when</span> Ok(orbit) =>
                        trajectory.orbit := orbit;
                    <span class="keyword">when</span> Err(error) =>
                        <span class="keyword">return</span> Err(NavigationError.OrbitCalculationFailure(error));
                <span class="keyword">end case</span>;
            <span class="keyword">end</span> <span class="keyword">region</span>;
            
            <span class="keyword">region</span> AdjustmentCalculation <span class="keyword">is</span>
                adjust_result: <span class="type">Result</span>&lt;<span class="type">Sequence</span>&lt;<span class="type">Adjustment</span>&gt;, <span class="type">AdjustmentError</span>&gt; :=
                    FlightController.calculate_adjustments(params);
                
                <span class="keyword">case</span> adjust_result <span class="keyword">is</span>
                    <span class="keyword">when</span> Ok(adjustments) =>
                        <span class="comment">-- Validate adjustments against constraints with proof</span>
                        <span class="keyword">if</span> adjustments.validate_delta_
